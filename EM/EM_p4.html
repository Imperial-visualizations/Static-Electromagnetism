<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!--Page Info-->
    <title>EM_p4</title>
    <!--css link-->
    <link rel="stylesheet" href="styles/skeleton.css">
    <link rel="stylesheet" href="styles/style.css">
    <!--Required JS resources-->
    <style id="plotly.js-style-global"></style>
    <script src="scripts/plotly-1.47.4.min.js"></script>
    <script src="scripts/p5.min.js"></script>
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
            async=""></script>
    <script language="javascript" type="text/javascript" src="scripts/p5.dom.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="scripts/numeric/src/numeric.js"></script>
    <script src="scripts/math.min.js"></script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-129658302-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-129658302-1');
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });


    </script>
    <style type="text/css">

        img {
            float: left;
        }

        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
    </style>
</head>


<body style="overflow: scroll">

<!--Text for left 1/3-->
<div id="Vis_text" class="container_journey" style="height: 100vh">

        <!-- Rounded switch -->
        <label class="switch">
            <input id="mode" type="checkbox" onclick="toggle()" checked>
            <span class="slider round"></span>
        </label>

    <div id="Vis1_text">

        The differential form of Ampere's law is:
        $$ \nabla \times \mathbf{B} = \mu_0 \mathbf{J}$$

        Consider a section of a plane that contains a uniform magnetic field. The introduction of a current $\mathbf{J}$
        that passes through every point in this section of the plane changes the field around it such that
        the maginitude of the magnetic field only changes if you move in a direction that is perpendicular to the field.
        This is the definition of curl. The introduction of the current density has induced a curl in the magnetic
        field.

    </div>

    <div id="Vis2_text" style="display: none;">
        <button id="buttonExamples">Examples</button>
        <p id="Theory">
            The integral form of Ampere's law is:
            $$ \oint \mathbf{B.dl} = \mu_0 I$$

                Ampere's law states that when a loop is placed around a current carrying wire, the integral of the magnetic field
                around the loop is equal to $\mu_{0}$ multiplied by the current enclosed. If you add a loop in the visualisation
                on the right then you can see, by clicking and dragging wires into and out of the loop, that this is true.
                <br><br>
                When there are wires near to, but outside of a loop, there is flux into and out of the loop, however the average
                flux is zero, so the total integral is also zero. You can see how the magnetic flux varies around the loop
                in the plot shown.
                <br><br>The reason for this can be seen by placing a wire just outside a circular loop; in this
                scenario dl is in the same direction as the field for one part of the loop, and opposite to the field for the
                other part. This means the resulting net contribution is zero.
        </p>

        <div id="CurrentLine" style="display:none;">
            <h5> Current Wire: </h5>
            <p> Consider an infinitely long current-carrying wire. Recall the integral form of static Ampere's
                law</p>
            $$\oint \textbf{B} \cdot \textbf{dl} = \mu_0 I_{enclosed},$$
            <p>and construct a circular Amperian loop (Amp loop). The loop encloses the wire. The magnetic field
                generated by the wire is circular
                with a constant magnitude at a given distance $r$. Hence,</p>
            $$ \displaystyle \textbf{B} \cdot \textbf{dl} = |\textbf{B}||\textbf{dl}|\cos(\theta)= B dl $$
            <p> as the magnetic field aligns with the loop. The integral can be performed and equation for the
                magnetic field strength $B$ can be derived.</p>
            $$ \int B dl = 2\pi r B= \mu_0 I_{enclosed}. $$
            <p> Hence,</p>
            $$ B = \frac{\mu_0 I_{enclosed}}{2 \pi r}. $$
            <p><img src="RHrule.jpg" style="width:50%;height:20%;margin-right:5%;margin-bottom:5%;">
                The direction in which the magnetic field rotates can be confirmed by using the Ampère's right-hand
                grip rule. Note that the magnetic field strength falls off with distance from the wire. You can confirm
                this using the
                visualisation on the Right.

            </p>

        </div>
        <div id="solenoid" style="display:none;">
            <h5> Solenoid: </h5>
            <p> A solenoid can be approximated as a series of circular loops of current with fixed separation. In
                this model, the solenoid is aligned
                such that we can consider the current flowing into and out of the screen. Now consider a rectangular
                Amperian loop (Amp loop). The Amp loop
                can be split into four straight lines. This allows the closed integral of static Ampere's law into
                four integral representing the four straight lines.</p>
            <img src="Solenoid.jpg" style="width:50%;height:20%;margin-right:5%;margin-bottom:5%;"  >
            <p>The diagram shows this Amp loop. The length and the alignment of the sides are chosen to simplify the
                integral: Side $2$ and $4$ align perpendicularly to the direction of the
                magnetic field, hence $\textbf{B} \cdot \textbf{dl} =0 $. Side $3$ is positioned at $r=\infty$,
                hence $|\textbf{B}|=0$.</p>
            $\displaystyle \oint \textbf{B} \cdot \textbf{dl} = \int_{a}^{b} \textbf{B} \cdot \textbf{dl} +
            \int_{b}^{c} \underbrace{\textbf{B} \cdot \textbf{dl}}_\text{=0} + \int_{c}^{d}
            \underbrace{\textbf{B}}_\text{=0} \cdot \textbf{dl} + \int_{d}^{a} \underbrace{\textbf{B} \cdot
            \textbf{dl}}_\text{=0}.$
            <p> Hence, </p>
            $\displaystyle \int_{a}^{b} \textbf{B} \cdot \textbf{dl} = BL=\mu_0 I_{enclosed}=\mu_0 N I,$
            <p> where $L=b-a$, $N$ is the number of current loops enclosed in the loop, and $I$ is the current
                through each current loop. Rearranging gives the equation for the magnetic field strength within
                the solenoid. </p>
            $$ B = \frac{\mu_0 N I}{L}=\mu_0 n I, $$
            <p> where $n$ is the number density of the current loops, meaning the number of current loops in a unit
                length of the solenoid. Note that the magnetic field strength is constant within
                the solenoid. You can confirm this by using the visualisation on the right. Keep in mind that the
                side outside the solenoid does not go off to infinity, however you can see how quickly the
                magnetic field falls off with distance. The arrow moving around the Amp loop in the visualisation
                represent the resultant magnetic field's magnitude and direction, $\textbf{B}$, NOT $\textbf{B}
                \cdot \textbf{dl}$. </p>
        </div>
        <div id="Toroid" style="display:none;">
            <h5> Toroid : </h5>
            <p>A toroid is simply a solenoid formed into a loop ( a loop of loops!). To calculate the magnetic field
                strength generated, a circular Amperian loop (Amp loop) is used to evaluated
                the three regions of the toroid.</p>
            <p> At the centre and outside of the toroid, the net current enclosed is zero, therefore based on static Ampere's law,
                $|\textbf{B}|$ the magnetic field strength is zero. Within the toroid,</p>
            $\displaystyle \oint \textbf{B} \cdot \textbf{dl} = \oint Bdl = 2\pi rB = \mu_0 I_{enclosed},$
            <p> as the magnetic field within the toroid aligns with the Amp loop. Hence,</p>
            $\displaystyle B = \frac{\mu_0 I_{enclosed}}{2\pi r} = \frac{\mu_0 N I}{2\pi r} = \frac{\mu_0 (nL)
            I}{2\pi r},$
            <p> where $n(=N/L)$ is the number density of the current loops, $L$ is the circumference of the toroid,
                and $N$ is the number of current loops enclosed in the Amp loop. In the
                approximation that the radius of each current loop in the toroid is negligible compared to the
                radius of the Amp loop, we can assume </p>
            $\displaystyle L \approx 2 \pi r.$
            <p> Hence,</p>
            $\displaystyle B = \mu_0 n I$
            <p> which is the same equation that was derived for the solenoid. You can confirm this by using the
                visualisation on the right. Keep in mind that the visualisation calculates the net
                magnetic field generated at the point the arrow is. Hence there is a small variation from the theory
                when that approximation is not applied ( ie. the radius of the current loops is comparable to
                the radius of the Amp loop. Also note the change in the direction of the magnetic field when the Amp
                loop is slightly out of region B. You can confirm the direction using the Ampère's right-hand grip
                rule. </p>
        </div>
    </div>

</div>

<!--Visualisation for right 2/3-->
<div id="Vis1_interactive" class="container_vis" style="position: relative;">

    <div class="one-third column" style="padding-left: 2em;"></div>
    <label style="position: relative; left: 5%; display:inline-block;">
        Current density:
    </label>
    <!--Slider for user to choose charge strength and polarity-->
    <label style="position: relative; left: 7%; width: 35%; display:inline-block;">
        <input id="x3Controller" class="inputs" type="range" value="0" min="-2.5" max="2.5" step="0.01"
               oninput="x3ControllerDisplay.value=x3Controller.value"/>
    </label>
    <!--Display user input on RHS of slider-->
    <label style="position: relative; left: 5%; display:inline-block;">
        <label>$\mathbf{J}$ =
            <output id="x3ControllerDisplay" name="amount" for="magnit">1</output>
        </label>
    </label>
    <!-- Graph -->
    <label id='graph' style="width:70%; height:80%;">
    </label>

</div>


<!--Visualisation for right 2/3-->
<div id="Vis2_interactive" class="container_vis" style="display: none;">
    <div class="three columns" id="buttons-holder" style="position:inherit; margin-left: 1vw; margin-top: 5vh;">

        <div id="settings">

            <p style="margin-top:-2vh;" id="desc">Loop type:</p>
            <div id="circuit-modifiers" style="margin-left: 6vw; margin-top: -2vw;">
                <select class="form-control" id="circuitSelectList" style="margin-top: -3vh">
                    <option value="0">
                        circle
                    </option>
                    <option value="1">
                        arc 1
                    </option>
                    <option value="2">
                        arc 2
                    </option>
                    <option value="3">
                        rectangle 1
                    </option>
                    <option value="4">
                        square
                    </option>
                </select>
            </div>
            <button id="buttonPlay">Play</button>
            <button id="buttonReset">Reset</button>
            <button id="buttonField">Hide Magnetic Field</button>
            <button id="buttonLoopToggle">Add Loop</button>
            <div id="Current-modifiers">
                <button id="buttonAddWire">Add current wire</button>
                <br>
                <button id="buttonRemoveWires">Remove Wires</button>
                <button id="buttonLoopToggle" style="display:none;">Remove Loop</button>
                <button id="buttonFieldFlow" style="display:none;">Field Flow</button>
                <label class="sliderTitle" for="currentSlider" id="tagCurrentSlider" style="margin-bottom:0.1vh">
                    Current:
                    <b>
                        <span data-unit="Amps" id="currentDynamicDisplay">5 Amps</span>
                    </b>
                </label>
                <label>
                    <input id="currentSlider" max="10" min="-10" name="currentSlider" step="1" type="range" value="5">
                </label>
            </div>

            <div id="diameter-modifiers">
                <label class="sliderTitle" style="margin-bottom:0.1vh">Diameter of loop:</label>
                <label>
                    <input id="diameterSlider" max="290" min="20" step="20" type="range">
                </label>
            </div>
        </div>
    </div>

    <div class="three columns" id="buttons-holder-examples"
         style="position:inherit; margin-left: 1vw; margin-top: 5vh; display:none;">
        <div class="scroll-down">
            <select class="form-control" id="circuitSelectList2">
                <option value="1">
                    Single Wire
                </option>
                <option value="2">
                    Solenoid
                </option>
                <option value="3">
                    Toroid
                </option>
            </select>
        </div>
        <div class="slidecontainer">

            <h5 id="hR"> Radius:</h5>
            <input type="range" min="0.1" max="2" value="0.5" step="0.05" id="myRange">
            <p id="pR">Value: <span id="demo"></span></p>

            <h5 id="hB"> Size of Toriod:</h5>
            <input type="range" min="0" max="1.3" value="0.5" step="0.1" id="B_slide">
            <p id="pB">Value: <span id="B_slide_val"></span></p>

            <h5 id="hN"> No. of turns:</h5>
            <input type="range" min="1" max="100" value="9" step="2" id="N_slide">
            <p id="pN">Value: <span id="N_slide_val"></span></p>

            <h5 id="hA"> Current:</h5>
            <input type="range" min="-10" max="10" value="1" step="1" id="A_slide">
            <p id="pA">Value: <span id="A_slide_val"></span></p>

        </div>

        <button id="playB" onclick="Play()" value="1">Play!</button>

        <script>
            let N_slider = document.getElementById("N_slide");
            let N_slider_val = document.getElementById("N_slide_val");

            let B_slider = document.getElementById("B_slide");
            let B_slider_val = document.getElementById("B_slide_val");

            let A_slider = document.getElementById("A_slide");
            let A_slider_val = document.getElementById("A_slide_val");

            let slider = document.getElementById("myRange");
            let output = document.getElementById("demo");

            output.innerHTML = slider.value;
            let sliderVal = 0.5;

            slider.oninput = function () {
                output.innerHTML = this.value;
                sliderVal = this.value;
            };

            N_slider_val.innerHTML = N_slider.value;
            let NsliderVal = 9;

            N_slider.oninput = function () {
                N_slider_val.innerHTML = this.value;
                NsliderVal = this.value;
            };

            A_slider_val.innerHTML = A_slider.value;
            let AsliderVal = 5;

            A_slider.oninput = function () {
                A_slider_val.innerHTML = this.value;
                AsliderVal = this.value;
            };

            B_slider_val.innerHTML = B_slider.value;
            let BsliderVal = 0.5;

            B_slider.oninput = function () {
                B_slider_val.innerHTML = this.value;
                BsliderVal = this.value;
            };

            let button_no = 0;

            function Play() {
                let button_val = document.getElementById("playB").value;
                if (button_val == 1) {
                    document.getElementById("playB").innerHTML = "Stop!";
                    document.getElementById("playB").value = 0
                } else {
                    document.getElementById("playB").innerHTML = "Play!";
                    document.getElementById("playB").value = 1
                }
                button_no = button_val;
            }
        </script>

    </div>

    <div class="eight columns" id="graphics-holder" style="position:relative; right:5vw">
        <div id="sketch-holder"
             style="position: relative; top: -36vh; right: -2vw; width: 55vw; height: 60vh; cursor: default;">
            <canvas id="defaultCanvas0" class="p5Canvas" width="1524" height="521"
                    style="width: 762.047px; height: 260.5px; z-index:2;"></canvas>
        </div>
        <div id="graph-holder" style="position:relative; left: -2vw; top:-8vh; width:125%; height:50vh; display:none;"
             class="js-plotly-plot">
            <div class="plot-container plotly">
                <div class="svg-container" style="position: relative; width:550.359px; height:2vh; z-index: -2;">
                    <svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                         width="550.359" height="192.766" style="background: rgb(255, 255, 255);"></svg>

                        <div class="modebar-container"
                             style="position: absolute; top: 0px; right: 0px; width: 100%;"></div>
                        <svg class="main-svg" xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink" width="550.359" height="192.766">
                            <g class="hoverlayer"></g>
                        </svg>

                </div>
            </div>
        </div>
        <div id="B-dl-text-holder" style="position:absolute; right:47vw; top:65vh; width:25%; height:30vh">
            <p style="font-size: large;">
                $\displaystyle\oint\mathbf{B.dl}=$
                <span id="Bdl-text">5.0*μ<sub>0<sub></sub></sub></span>
            </p>
            <p>
                We are using a Riemann sum to integrate, so the number of steps is referring to the number of steps used
                in the numerical integration.
            </p>
        </div>
    </div>

</div>



</body>
<!--THE BRAINS-->
<script src="scripts/EM_p4.js"></script>
<script src="scripts/Static_EM_Object.js"></script>
</html>